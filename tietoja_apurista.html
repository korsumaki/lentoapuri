<!DOCTYPE html>
<html>
	<head> 
		<meta charset="UTF-8">
		<title>Tietoja Lentoapurista</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
		<link rel="shortcut icon" href="favicon.ico">
		<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.css" />
		<link rel="stylesheet" href="mystyle.css" />
		<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="https://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.js"></script>
	</head> 

<body>
	<div data-role="page" id="page-help"> 
		<div data-role="header" data-position="inline">
			<a href="javascript:history.back()" data-direction="reverse" data-icon="arrow-l">Takaisin</a>
			<h1>Tietoja Apurista</h1>
		</div> 

		<div data-role="content">
			
<h2>Yleistä</h2>
	<p>Tällä ohjesivulla kerrotaan mihin ja miten Lentoapuria (myöhemmin "Apuri") käytetään.</p>
	<p>Apuri on tehty helpottamaan ja nopeuttamaan VFR-lentosuunnitelman tekemistä, erityisesti puhelimella tai tabletilla reissun päällä. 
		Apuri poistaa kaiken turhan kirjoittamisen ja nopeuttaa lentosuunnitelman tekemistä arvaamalla älykkäästi mitä lentäjä todennäköisesti on tekemässä.
		Apuri tekee lentosuunnitelmasta lähes poikkeuksetta virheettömän, koska se tietää lentokenttien sijainnit, ilmoittautumispisteet, ACC sektorit yms.</p>
<hr>
<h2>Ensimmäinen käyttökerta</h2>
	<h3>Sijainnin käyttäminen</h3>
		<p>Käyttäjän kannattaa sallia Apurin käyttää sijaintitietoa. 
			Apuri hyödyntää käyttäjän nykyistä sijaintia oikean lähtöpaikan valitsemiseen ja lentokenttien järjestämiseen niin, 
			että lähimmät lentokentät näytetään lentopaikkalistan alussa.  
			Mikäli Apuri ei saa sijantia tietoonsa, olettaa se käyttäjän olevan Tampereella.
			Tällöinkin Apuria voi käyttää, mutta käyttäjän tulee itse vaihtaa lähtöpaikka oikeaksi, 
			eikä lentopaikkalista välttämättä ole järkevässä järjestyksessä.
			</p>
	<h3>Perustiedot</h3>
		<p>Toinen oleellinen asia Apurin toiminnalle on "Perustiedot" sivulle täytettävät lentokoneen ja lentäjän tiedot. 
			Nämä tiedot on sellaisia mitkä eivät yleensä muutu lentopäivän tai edes lentokauden aikana, esim. koneen laitteet ja nopeus sekä lentäjän nimi ja puhelinnumero.
			Perustiedot tarvitsee syöttää vain kerran, koska ne tallennetaan automaattisesti selaimeen (localStorage) 
			ja ne pysyvät tallessa vaikka selain ja puhelin sammutetaan välillä.</p>
		<p>Käyttäjän antamat tiedot lähetetään verkkoon ainoastaan ANS Finlandin lentosuunnitelmalomakkeelle.</p>
    
<hr>
<h2>Peruskäyttö</h2>
	<h3>Perusplaani</h3>
		<p>Yksinkertaisin ja yleisin lentosuunnitelma tehdään niin, että Apuri olettaa että ollaan lähdössä lähimmältä kentältä (Lähtöpaikka).
			Käyttäjä varmistaa että Laskupaikka on oikea tai vaihtaa muun laskupaikan listalta, ja valitsee oikean toiminta-ajan ja henkilömäärän.
			Apuri on valinnut reitille parhaiten sopivat ilmoittautumispisteet ja laskenut lentoajan valmiiksi.
			Sitten painetaan "Jatka lentosuunnitelmaan...", 
			jolloin Apuri täyttää lentosuunnitelman ANS Finlandin viralliselle lentosuunnitelmalomakkeella tarkistusta ja lähettämistä varten.</p>
		<p>Apuri olettaa että lento on paikallislento (laskupaikka on sama kuin lähtöpaikka). Matkalentoa varten lentopaikkalistalta valitaan oikea laskupaikka. 
			Lähtö- ja Laskupaikat on järjestetty niin että lähimmät kentät on ensimmäisenä, joten todennäköisesti haluttu kenttä löytyy läheltä listan alkua.</p>
	<h3>VFR pisteet</h3>
		<p>Apuri tietää lennonjohtokenttien ilmoittautumispisteet, ja se valitsee reitille parhaiten sopivat pisteet. 
			Käyttäjä voi vaihtaa reitin kulkemaan haluamiensa ilmoittautumispisteiden kautta, jolloin Apuri laskee reitille uudet lentoajat ja -suunnat.</p>
	<h3>Lentoajan muuttaminen</h3>
		<p>Apuri laskee lentoajan suorinta reittiä lähtöpaikalta ilmoittautumispisteiden kautta laskupaikalle. 
			Käyttäjä voi muuttaa Apurin laskemaa lentoaikaa valitsemalla "Lentoajan muuttaminen..." ja valitsemalla haluttu tunti- ja minuuttimäärä.
			Käyttäjä voi haluta muuttaa lentoaikaa, esim. reitin mutkittelun tai tuulen takia.
			Lentoajan muuttaminen on tarpeen myös paikallislennolla, koska Apuri käyttää paikallislennon kestona oletuksena 10 minuuttia.
			</p>
	
<hr>
<h2>Erikoistilanteet</h2>
	<h3>Viron lentopaikat</h3>
		<p>Apurilla on tiedossa myös Viron lentokentät.
			Nämä kentät saa käyttöön Perustiedot sivulta kääntämällä "Näytä Viron lentopaikat" valinta päälle.
			Tämän jälkeen Viron lentopaikat tulee näkyviin Lähtö- ja Laskupaikkojen luetteloon.</p>
		<p>Kun lähtö- ja laskupaikka ovat eri maissa, tulee reitti-osioon "FIR rajan ylitys" valinta. Tästä valitaan se minkä ilmoittautumispisteen kautta ylitetään FIR raja.
			Tämän perusteella Apuri täyttää lentosuunnitelman kohtaan 18 EET tiedon.</p>

	<h3>Tunnetut epäviralliset lentopaikat</h3>
		<p>Apuri tunnistaa myös useita epävirallisia lentopaikkoja ("ZZZZ"), mm. kevytlentopaikat, jääkenttiä ja muita peltokenttiä. 
			Nämä kentät saa käyttöön Perustiedot sivulta kääntämällä "Näytä epäviralliset lentopaikat" valinta päälle.
			Tämän jälkeen epäviralliset lentopaikat tulee näkyviin Lähtö- ja Laskupaikkojen luetteloon.</p>
		<p>Apuri täyttää näidenkin lentopaikkojen tiedot oikein lentosuunnitelmaan (mm. koordinaatit), laskee lentoajat ja tietää ACC sektorit.</p>
		<p>Vaikka Apuri tunnistaa jonkun epävirallisen lentopaikan, se ei tarkoita että paikka olisi käytettävissä.
			Lentäjän tulee aina varmistua itse siitä onko epävirallinen lentopaikka käytettävissä ja täyttääkö se koneen ja lentäjän vaatimukset.
			</p>

	<h3>Tuntemattomat epäviralliset lentopaikat</h3>
		<p>Apurille tuntematon epävirallinen lentopaikka voidaan syöttää valitsemalla lähtö- tai laskupaikaksi listan ensimmäinen kenttä "ZZZZ (Epävirallinen)".
			Nyt sen alle avautuu tekstikenttä johon kirjoitetaan paikan nimi.</p>
		<p>Jos Lähtöpaikaksi valitaan "ZZZZ (Epävirallinen)", Apuri laittaa käyttäjän tämänhetkiset koordinaatit tämän paikan sijainniksi. 
			Tämä toimii hyvin silloin kun lentosuunnitelmaa tehdään lähtöpaikalla.
			</p>
		<p>Jos Laskupaikaksi valitaan "ZZZZ (Epävirallinen)", täytyy laskupaikan koordinaatit kirjoittaa nimen perään että ne tulevat lentosuunnitelmaan mukaan (esim. 6217N 02226E).
			Koska Apuri ei tiedä tässä tapauksessa laskupaikan sijaintia, se ei osaa laskea myöskään lentomatkaa ja -aikaa oikein. 
			Oikea lentoaika täytyy asettaa kohdasta "Lentoajan muuttaminen...".
			</p>
		<p>Tuntemattomista epävirallisista lentopaikoista Apuri ei tiedä ACC sektoria, ja siksi Aktivointi/Päättäminen kohdassa ei näy ACC jaksoa.
			Tämä ei vaikuta lentosuunnitelman täyttämiseen, koska ACC radiojaksoa ei nykyään merkitä lentosuunnitelmalomakkeelle.
			Jakso jää kuitenkin puuttumaan Tehdyt lentosuunnitelmat -osiosta.
			</p>
		
	<h3>Useamman koneen tiedot</h3>
		<p>Apurille voidaan antaa useamman lentokoneen perustiedot. 
			Tämä tapahtuu Perustiedot sivulta Koneen valinta -listasta valitsemalla "Lisää kone".
			Tällöin voidaan syöttää uuden lentokoneen tiedot lomakkeelle. Tiedot tallentuvat automaattisesti selaimen muistiin.
			Valitun koneen tunnus näkyy myös pääsivulla olevan lentomatka- ja lentoaikataulukon yläpuolella, että lentosuunnitelmaa tehdessä voidaan varmistua oikeasta koneesta.</p>
		
	<h3>Tallennetut lentosuunnitelmat</h3>
		<p>Pääsivun alareunassa on avattava lista "Tehdyt lentosuunnitelmat", missä näkyy viimeisen vuorokauden aikana tehdyt lentosuunnitelmat.
			Nämä tiedot on tallennettu selaimen muistiin ja ne poistetaan automaattisesti kun lentosuunnitelman mukaisesta lähtöajasta on kulunut 24 tuntia.
			</p>
		
		<p>Listassa näkyy muutamia perustietoja lentosuunnitelmista. Oikeassa reunassa olevaa i-nappia painamalla aukeaa laskupaikan Notam-sivu.
			Listaa klikkaamalla (muualla kuin i-napista) aukeaa "Tallennettu FPL" sivu missä näkyy lentosuunnitelman täydellisemmät tiedot.
			Täältä voi tarkistaa jälkeenpäin mitä tietoja lentosuunnitelmaan valittiin.
			Jos aktivointi- tai päättämistavaksi on valittu "Puhelimella (EFIN)", tällä sivulla on nappi, mistä voi soittaa helposti ACC:lle.
			</p>
			
	<h3>Aktivointi ja päättäminen</h3>
		<p>Lennettäessä kentälle tai kentältä missä lennonjohto tai -tiedotus ei ole koko ajan auki, on huomioitava että Apuri ei tiedä palvelun oikeita aukioloaikoja.
			Apuri ehdottaa aina lennonjohto- ja lennontiedotuskentille aktivointi- ja päättämistavaksi "- (torni)", vaikka palvelua olisi saatavilla vain joskus.
			Käyttäjän tulee itse huolehtia aktivointi tai päättäminen, mikäli lennonjohto tai -tiedotus ei ole auki.
			</p>
		
	<h3>DCT reitti</h3>
		<p>VFR ilmoittautumispisteen voi jättää tyhjäksi valitsemalla "-", jolloin reitin voi kirjoittaa vapaamuotoisemmin Reitti -kohdassa olevaan tekstikenttään. </p>
	<h3>Virhetilanteet</h3>
		<p>Jos iPhonessa tai iPadissa on Private Browsing (yksityinen selaus) asetus päällä, Apuri ei pysty toimimaan. Ota Private Browsing pois päältä.</p>
	<h3>Apurin reitinvalinta ei tunne ilmatilarajoja</h3>
		<p>Apurin reitinvalinta ei tunne ilmatilarajoja. Tämä täytyy ottaa huomioon, kun lentoreitti kiertää jotain rajoittavaa ilmatilaa, esim. Malmilta toimittaessa Vantaan ilmatila.
			Käyttäjän täytyy itse huomioida paljonko lentoaikaa täytyy lisätä kiertämisen takia, ja lisätä lentoaikaa kohdasta "Lentoajan muuttaminen...".
			</p>
		<p>Apuri näyttää reittikartan mistä näkee reitin muodon ja siihen liittyvät ilmatilat. Reittiviivan ja ilmatilarajojen piirtäminen ei kuitenkaan ole tarkkaa,
			johtuen käytetystä koordinaatistosta, joten oikea kartalle piirretty reittiviiva saattaakin mennä eripuolelta ilmatilarajaa.
			</p>
		<p>Tällä samalla tavalla lasketut ilmatilojen läpäisyt näkyy Reittikartan alla, ja kyseiset lennonjohtoelimet lisätään lentosuunnitelmaan 18. kohdan loppuun (poislukien lähtö- ja määräkenttä).
			</p>
	<!--h3>Erikoiset laitteet</h3>
		<p>Jos koneen laitteissa on "R", niin alle aukeaa lisäkenttä "PBN/" tiedon syöttämiseen.</p-->

<hr>
<h2>Yksityiskohtia toteutuksesta</h2>
	<p>Lähtöaika ja lentoaika pyöristetään seuraavaan 5 minuuttiin. Esimerkiksi lähtöaika 14:26 pyöristyy ajaksi 14:30.</p>
	<p>Jos lentokoneen nopeus on ilmoitettu solmuina, näytetään pääsivun taulukon lentomatka merimaileina (NM). Jos nopeus on yksikössä km/h näytetään matkat kilometreinä.</p>
	<!--p>algoritmit?</p-->

<hr>
<h2>Kiitokset</h2>
	<p>Kiitokset kaikille jotka ovat ehdottaneet parannuksia, korjauksia ja antaneet palautetta Apurin toimivuudesta. 
		Pääasiassa keskustelua on käyty <a href="https://www.flightforum.fi/">FlightForumin</a> <a href="https://www.flightforum.fi/topic/25818-lentosuunnitelma-apuri/">Lentosuunnitelma-apuri</a> -ketjussa.</p>

<hr>
<h2>Tekijä</h2>
	<p>Markku Korsumäki - 2011-2018</p>
	<p>Lähdekoodi on saatavilla: <a href="https://github.com/korsumaki/lentoapuri">https://github.com/korsumaki/lentoapuri</a></p>

		</div><!-- content -->

	</div>
</body>
</html>